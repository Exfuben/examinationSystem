(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad6ccf5a"],{"03bf":function(e,t,a){"use strict";a.r(t);var l=a("7a23"),o=a("bc3a"),c=a.n(o),r=a("6605"),d=a("3ef4");const n=e=>(Object(l["pushScopeId"])("data-v-49a363dc"),e=e(),Object(l["popScopeId"])(),e),s={class:"paper-form"},p=["onClick"],i={class:"paperTitle"},b=n(()=>Object(l["createElementVNode"])("div",{class:"paperTime"},"考试时间",-1)),u={class:"startTime"},m=n(()=>Object(l["createElementVNode"])("span",null,"|",-1)),j={class:"stopTime"},O=Object(l["createTextVNode"])(" 答题详情 "),h={class:"paper make-paper"},V=Object(l["createTextVNode"])("组卷"),f={class:"dialog-footer"},C=Object(l["createTextVNode"])("取消"),N=Object(l["createTextVNode"])("确定");var v={name:"papers",setup(e){const t=Object(l["ref"])(!1),a=Object(r["d"])(),o="80px",n=Object(l["reactive"])({tableData:"",title:"",time:"",courseId:"",num:[],paperQuestionList:[],score:[]});Object(l["onMounted"])(()=>{g(),console.log(v)});const v=Object(l["reactive"])({id:localStorage.getItem("teacherid"),courses:[],papers:[],titles:[]}),g=()=>{c()({url:"http://localhost/course/page",method:"get",params:{page:1,pageSize:50,teacherId:v.id}}).then(e=>{v.courses=e.data.data.records,v.courses.forEach(e=>{w(e.id),k(e.questionBankId)})})},w=e=>{c.a.get("http://localhost/testPaper/page?page=1&pageSize=20&courseId="+e).then(e=>{e.data.data.total>0&&v.papers.push(e.data.data.records)})},k=e=>{c()({url:"http://localhost/question/page",method:"get",params:{page:1,pageSize:50,questionBankId:e}}).then(e=>{v.titles.push(e.data.data.records)})},x=()=>{E(),c.a.post("http://localhost/testPaper",{courseId:n.courseId,title:n.title,startTime:n.time[0],stopTime:n.time[1],paperQuestionList:n.paperQuestionList}).then(e=>{d["a"].success(e.data.data)}),t.value=!1},y=()=>{n.num.forEach(e=>{""!==e&&n.score.push(e)})},E=()=>{y();const e=n.score.length;for(let t=0;t<e;t++)n.paperQuestionList.push({questionId:n.tableData[t].id,score:n.score[t]})},_=(e,t)=>{c.a.delete("http://localhost/testPaper?id="+e).then(e=>{console.log(e),v.papers[0].splice(t,1),d["a"].success("删除成功")}),console.log(e)},I=(e,t)=>{a.push({name:"StuPaperManage",params:{id:e,title:t}})},T=e=>{n.tableData=e};return(e,a)=>{const c=Object(l["resolveComponent"])("el-button"),r=Object(l["resolveComponent"])("el-input"),d=Object(l["resolveComponent"])("el-form-item"),g=Object(l["resolveComponent"])("el-option"),w=Object(l["resolveComponent"])("el-select"),k=Object(l["resolveComponent"])("el-date-picker"),y=Object(l["resolveComponent"])("el-table-column"),E=Object(l["resolveComponent"])("el-input-number"),B=Object(l["resolveComponent"])("el-table"),S=Object(l["resolveComponent"])("el-form"),D=Object(l["resolveComponent"])("el-dialog");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("div",s,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(v.papers[0],(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"paper",key:t},[Object(l["createElementVNode"])("span",{class:"delete",onClick:a=>_(e.id,t)},"X",8,p),Object(l["createElementVNode"])("div",i,Object(l["toDisplayString"])(e.title),1),b,Object(l["createElementVNode"])("div",u,Object(l["toDisplayString"])(e.startTime),1),m,Object(l["createElementVNode"])("div",j,Object(l["toDisplayString"])(e.stopTime),1),Object(l["createVNode"])(c,{type:"primary",plain:"",class:"paperBtn",onClick:t=>I(e.id,e.title)},{default:Object(l["withCtx"])(()=>[O]),_:2},1032,["onClick"])]))),128)),Object(l["createElementVNode"])("div",h,[Object(l["createVNode"])(c,{type:"primary",plain:"",onClick:a[0]||(a[0]=e=>t.value=!0)},{default:Object(l["withCtx"])(()=>[V]),_:1})])]),Object(l["createVNode"])(D,{modelValue:t.value,"onUpdate:modelValue":a[6]||(a[6]=e=>t.value=e),title:"组卷",width:"70%"},{footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("span",f,[Object(l["createVNode"])(c,{onClick:a[4]||(a[4]=e=>t.value=!1)},{default:Object(l["withCtx"])(()=>[C]),_:1}),Object(l["createVNode"])(c,{type:"primary",onClick:a[5]||(a[5]=e=>x())},{default:Object(l["withCtx"])(()=>[N]),_:1})])]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(S,{model:n},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(d,{label:"试卷标题","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(r,{modelValue:n.title,"onUpdate:modelValue":a[1]||(a[1]=e=>n.title=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(d,{label:"发布课程","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(w,{modelValue:n.courseId,"onUpdate:modelValue":a[2]||(a[2]=e=>n.courseId=e),class:"m-2",placeholder:"Select"},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(v.courses,e=>(Object(l["openBlock"])(),Object(l["createBlock"])(g,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),Object(l["createVNode"])(d,{label:"考试时间","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(k,{modelValue:n.time,"onUpdate:modelValue":a[3]||(a[3]=e=>n.time=e),type:"datetimerange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(d,{label:"题库题目","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(B,{ref:"multipleTableRef",data:v.titles[0],style:{width:"100%"},onSelectionChange:T},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(y,{type:"selection"}),Object(l["createVNode"])(y,{property:"name",label:"题目",width:"70"}),Object(l["createVNode"])(y,{property:"type",label:"类型",width:"70"}),Object(l["createVNode"])(y,{property:"content",label:"内容",width:"550"}),Object(l["createVNode"])(y,{label:"分数"},{default:Object(l["withCtx"])(e=>[Object(l["createVNode"])(E,{step:10,modelValue:n.num[e.$index],"onUpdate:modelValue":t=>n.num[e.$index]=t,min:1,max:100},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}},g=(a("f8fc"),a("6b0d")),w=a.n(g);const k=w()(v,[["__scopeId","data-v-49a363dc"]]);t["default"]=k},f8fc:function(e,t,a){"use strict";a("ffaa")},ffaa:function(e,t,a){}}]);
//# sourceMappingURL=chunk-ad6ccf5a.77b4bea8.js.map