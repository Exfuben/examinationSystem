{"version":3,"sources":["webpack:///./src/views/Manager/queManage/queForm.vue","webpack:///./src/views/Manager/queManage/queForm.vue?ad7e"],"names":["adminData","reactive","bank","name","dialogFormVisible","ref","onMounted","getBank","axios","get","then","res","console","log","data","addBank","post","push","ElMessage","success","value","delBank","index","id","delete","splice","__exports__"],"mappings":"gZAuCA,MAAMA,EAAYC,sBAAS,CACzBC,KAAM,GACNC,KAAM,KAEFC,EAAoBC,kBAAI,GAC9BC,uBAAU,KACRC,MAEF,MAAMA,EAAU,KACdC,IAAMC,IAAI,iCACRC,KAAKC,IACLC,QAAQC,IAAIF,GACZX,EAAUE,KAAOS,EAAIG,KAAKA,QAGxBC,EAAU,KACdP,IAAMQ,KAAK,gCAAiC,CAC1Cb,KAAMH,EAAUG,OACfO,KAAKC,IACNC,QAAQC,IAAIF,GACZX,EAAUE,KAAKe,KAAKN,EAAIG,KAAKA,MAC7BI,OAAUC,QAAQ,QAClBf,EAAkBgB,OAAQ,KAGxBC,EAAU,CAACC,EAAOC,KACtBf,IAAMgB,OAAQ,oCAAmCD,GAC/Cb,KAAKC,IACLC,QAAQC,IAAIF,GACZX,EAAUE,KAAKuB,OAAOH,EAAO,GAC7BJ,OAAUC,QAAQ,W,82DClEtB,MAAMO,EAAc,EAEL","file":"js/chunk-2d0b6c68.5c971565.js","sourcesContent":["<template>\r\n  <div class=\"bank\">\r\n    <el-table :data=\"adminData.bank\" stripe style=\"width: 100%\">\r\n      <el-table-column prop=\"name\" label=\"题库\" width=\"800\"/>\r\n      <el-table-column label=\"操作\" width=\"200x\">\r\n        <template #default=\"scope\">\r\n          <el-button\r\n            size=\"small\"\r\n            type=\"danger\"\r\n            @click=\"delBank(scope.$index, scope.row.id)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-button class=\"mt-4\" style=\"width: 100%\" @click=\"dialogFormVisible = true\"\r\n      >添加题库</el-button\r\n    >\r\n  </div>\r\n  <el-dialog v-model=\"dialogFormVisible\" title=\"添加题库\" width=\"50%\">\r\n    <el-form :model=\"adminData\">\r\n      <el-form-item label=\"题库名称\" :label-width=\"formLabelWidth\">\r\n        <el-input v-model=\"adminData.name\" autocomplete=\"off\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"addBank()\"\r\n          >确定</el-button\r\n        >\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n<script setup>\r\nimport { onMounted, ref, reactive } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport axios from 'axios'\r\nconst adminData = reactive({\r\n  bank: [],\r\n  name: ''\r\n})\r\nconst dialogFormVisible = ref(false)\r\nonMounted(() => {\r\n  getBank()\r\n})\r\nconst getBank = () => {\r\n  axios.get('http://localhost/questionBank'\r\n  ).then(res => {\r\n    console.log(res)\r\n    adminData.bank = res.data.data\r\n  })\r\n}\r\nconst addBank = () => {\r\n  axios.post('http://localhost/questionBank', {\r\n    name: adminData.name\r\n  }).then(res => {\r\n    console.log(res)\r\n    adminData.bank.push(res.data.data)\r\n    ElMessage.success('添加成功')\r\n    dialogFormVisible.value = false\r\n  })\r\n}\r\nconst delBank = (index, id) => {\r\n  axios.delete(`http://localhost/questionBank?id=${id}`\r\n  ).then(res => {\r\n    console.log(res)\r\n    adminData.bank.splice(index, 1)\r\n    ElMessage.success('删除成功')\r\n  })\r\n}\r\n</script>\r\n<style lang='less' scoped>\r\n</style>\r\n","import script from \"./queForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./queForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}