{"version":3,"sources":["webpack:///./src/views/Teather/teatherCourse/course.vue?410e","webpack:///./src/views/Teather/teatherCourse/course.vue","webpack:///./src/views/Teather/teatherCourse/course.vue?2c94"],"names":["dialogFormVisible","ref","formLabelWidth","tea","reactive","id","localStorage","getItem","courses","students","name","questionBankId","introduce","bank","onMounted","getCourse","getBank","axios","url","method","params","page","pageSize","teacherId","then","res","console","log","data","records","forEach","e","getStudents","courseId","push","get","makeCourse","post","value","ElMessage","success","__exports__"],"mappings":"kHAAA,W,kgBCiDA,MAAMA,EAAoBC,kBAAI,GACxBC,EAAiB,OAiHjBC,EAAMC,sBAAS,CACnBC,GAAIC,aAAaC,QAAQ,aACzBC,QAAS,GACTC,SAAU,GACVC,KAAM,GACNC,eAAgB,GAChBC,UAAW,GACXC,KAAM,KAERC,uBAAU,KACRC,IACAC,MAEF,MAAMD,EAAY,KAChBE,IAAM,CACJC,IAAK,+BACLC,OAAQ,MACRC,OAAQ,CACNC,KAAM,EACNC,SAAU,GACVC,UAAWpB,EAAIE,MAEhBmB,KAAKC,IACNC,QAAQC,IAAIF,EAAIG,KAAKA,KAAKC,SAC1B1B,EAAIK,QAAUiB,EAAIG,KAAKA,KAAKC,QAC5B1B,EAAIK,QAAQsB,QAAQC,IAClBC,EAAYD,EAAE1B,SAId2B,EAAe3B,IACnBY,IAAM,CACJC,IAAK,2CACLC,OAAQ,MACRC,OAAQ,CACNa,SAAU5B,EACVgB,KAAM,EACNC,SAAU,MAEXE,KAAKC,IACNtB,EAAIM,SAASyB,KAAKT,EAAIG,KAAKA,KAAKC,YAG9Bb,EAAU,KACdC,IAAMkB,IAAI,iCACRX,KAAKC,IACLtB,EAAIU,KAAOY,EAAIG,KAAKA,KACpBF,QAAQC,IAAIxB,EAAIU,SAGduB,EAAa,KACjBnB,IAAMoB,KAAK,2BAA4B,CACrCd,UAAWpB,EAAIE,GACfK,KAAMP,EAAIO,KACVC,eAAgBR,EAAIQ,eACpBC,UAAWT,EAAIS,YACdY,KAAKC,IACNC,QAAQC,IAAIF,GACZzB,EAAkBsC,OAAQ,EAC1BC,OAAUC,QAAQ,W,mrGCxNtB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD","file":"js/chunk-18791d24.e26c8ddd.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./course.vue?vue&type=style&index=0&id=96ae842c&lang=less&scoped=true\"","<template>\r\n  <div class=\"courseHead\">\r\n    <el-button @click=\"dialogFormVisible = true\">创建课程</el-button>\r\n  </div>\r\n  <el-tabs tab-position=\"left\" class=\"demo-tabs\">\r\n    <el-tab-pane v-for=\"(item, index) in tea.courses\" :key=\"index\" :label=\"item.name\">\r\n      <div class=\"code\">{{ `课程码: ${item.code}` }}</div>\r\n      <div class=\"introduce\">{{ `课程介绍: ${item.introduce}` }}</div>\r\n      <div class=\"introduce\">学生列表:</div>\r\n      <el-table :data=\"tea.students[index]\" stripe style=\"width: 100%\">\r\n        <el-table-column prop=\"name\" label=\"姓名\" />\r\n        <el-table-column prop=\"username\" label=\"用户名\" />\r\n        <el-table-column prop=\"password\" label=\"密码\" />\r\n      </el-table>\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n  <el-dialog v-model=\"dialogFormVisible\" title=\"添加课程\" width=\"50%\">\r\n    <el-form :model=\"tea\">\r\n      <el-form-item label=\"课程名\" :label-width=\"formLabelWidth\">\r\n        <el-input v-model=\"tea.name\" autocomplete=\"off\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"所属题库\" :label-width=\"formLabelWidth\">\r\n        <el-select v-model=\"tea.questionBankId\">\r\n          <el-option\r\n            v-for=\"item in tea.bank\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"课程介绍\" :label-width=\"formLabelWidth\">\r\n        <el-input v-model=\"tea.introduce\" :rows=\"3\" type=\"textarea\" autocomplete=\"off\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"makeCourse()\"\r\n          >确定</el-button\r\n        >\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport axios from 'axios'\r\nimport { ElMessage } from 'element-plus'\r\nconst dialogFormVisible = ref(false)\r\nconst formLabelWidth = '80px'\r\n// const tableData = reactive([\r\n//   {\r\n//     name: '课程1',\r\n//     code: 'dejfirg',\r\n//     introduce: '课程1的介绍',\r\n//     students: [\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     name: '课程1',\r\n//     code: 'dejfirg',\r\n//     introduce: '课程1的介绍',\r\n//     students: [\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     name: '课程1',\r\n//     code: 'dejfirg',\r\n//     introduce: '课程1的介绍',\r\n//     students: [\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     name: '课程1',\r\n//     code: 'dejfirg',\r\n//     introduce: '课程1的介绍',\r\n//     students: [\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     name: '课程1',\r\n//     code: 'dejfirg',\r\n//     introduce: '课程1的介绍',\r\n//     students: [\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       },\r\n//       {\r\n//         name: 'Jerry',\r\n//         sex: '男',\r\n//         username: '张三'\r\n//       }\r\n//     ]\r\n//   }\r\n// ])\r\nconst tea = reactive({\r\n  id: localStorage.getItem('teacherid'),\r\n  courses: [],\r\n  students: [],\r\n  name: '',\r\n  questionBankId: '',\r\n  introduce: '',\r\n  bank: []\r\n})\r\nonMounted(() => {\r\n  getCourse()\r\n  getBank()\r\n})\r\nconst getCourse = () => {\r\n  axios({\r\n    url: 'http://localhost/course/page',\r\n    method: 'get',\r\n    params: {\r\n      page: 1,\r\n      pageSize: 50,\r\n      teacherId: tea.id\r\n    }\r\n  }).then(res => {\r\n    console.log(res.data.data.records)\r\n    tea.courses = res.data.data.records\r\n    tea.courses.forEach(e => {\r\n      getStudents(e.id)\r\n    })\r\n  })\r\n}\r\nconst getStudents = (id) => {\r\n  axios({\r\n    url: 'http://localhost/courseSelection/student',\r\n    method: 'get',\r\n    params: {\r\n      courseId: id,\r\n      page: 1,\r\n      pageSize: 50\r\n    }\r\n  }).then(res => {\r\n    tea.students.push(res.data.data.records)\r\n  })\r\n}\r\nconst getBank = () => {\r\n  axios.get('http://localhost/questionBank'\r\n  ).then(res => {\r\n    tea.bank = res.data.data\r\n    console.log(tea.bank)\r\n  })\r\n}\r\nconst makeCourse = () => {\r\n  axios.post('http://localhost/course/', {\r\n    teacherId: tea.id,\r\n    name: tea.name,\r\n    questionBankId: tea.questionBankId,\r\n    introduce: tea.introduce\r\n  }).then(res => {\r\n    console.log(res)\r\n    dialogFormVisible.value = false\r\n    ElMessage.success('添加成功')\r\n  })\r\n}\r\n// const handleEdit = (index, row) => {\r\n//   console.log(index, row)\r\n// }\r\n// const handleDelete = (index) => {\r\n//   tableData.splice(index, 1)\r\n// }\r\n// const stuDelete = (index) => {\r\n//   tableData[index].students.splice(index, 1)\r\n// }\r\n</script>\r\n<style lang='less' scoped>\r\n.courseHead {\r\n  margin: 10px;\r\n  margin-left: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.introduce {\r\n  margin: 5px 0;\r\n}\r\n</style>\r\n","import script from \"./course.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./course.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./course.vue?vue&type=style&index=0&id=96ae842c&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\HTML\\\\examination_system\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-96ae842c\"]])\n\nexport default __exports__"],"sourceRoot":""}