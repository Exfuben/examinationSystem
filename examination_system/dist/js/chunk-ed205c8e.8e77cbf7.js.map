{"version":3,"sources":["webpack:///./src/views/Student/exams/exam.vue?a8ed","webpack:///./src/views/Student/exams/exam.vue","webpack:///./src/views/Student/exams/exam.vue?d935"],"names":["router","useRouter","route","useRoute","id","params","paperTitle","title","paper","reactive","studentId","localStorage","getItem","detail","answers","answerContent","onMounted","getPaperDetail","console","log","axios","get","then","res","push","data","subPaper","forEach","element","post","testPaperId","content","ElMessage","success","path","__exports__"],"mappings":"gHAAA,W,6cC6BA,MAAMA,EAASC,iBACTC,EAAQC,iBACRC,EAAKF,EAAMG,OAAOD,GAClBE,EAAaJ,EAAMG,OAAOE,MAC1BC,EAAQC,sBAAS,CACrBC,UAAWC,aAAaC,QAAQ,aAChCC,OAAQ,GACRC,QAAS,GACTC,cAAe,KAEjBC,uBAAU,KACRC,EAAeb,GACfc,QAAQC,IAAIX,KAEd,MAAMS,EAAkBb,IACtBgB,IAAMC,IAAK,iCAAgCjB,GACzCkB,KAAKC,IACLf,EAAMK,OAAOW,KAAKD,EAAIE,KAAKA,SAGzBC,EAAW,KACfR,QAAQC,IAAIX,EAAMM,SAClBN,EAAMM,QAAQa,QAAQC,IAElBpB,EAAMO,eADQ,MAAZa,GAA+B,MAAZA,GAA+B,MAAZA,GAA+B,MAAZA,EACpCA,EAAU,KAEV,IAAMA,IAGjCV,QAAQC,IAAIX,EAAMO,eAClBK,IAAMS,KAAK,+BAAgC,CACzCnB,UAAWF,EAAME,UACjBoB,YAAa1B,EACb2B,QAASvB,EAAMO,gBACdO,KAAKC,IACNL,QAAQC,IAAII,GACZS,OAAUC,QAAQ,QAClBjC,EAAOwB,KAAK,CACVU,KAAM,wB,y+DC7DZ,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB","file":"js/chunk-ed205c8e.8e77cbf7.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./exam.vue?vue&type=style&index=0&id=ae1559f6&lang=less&scoped=true\"","<template>\r\n  <el-card class=\"box-card\">\r\n    <div class=\"card-header\">\r\n      <span class=\"paperTitle\">{{ paperTitle }}</span>\r\n      <el-button class=\"button\" type=\"primary\" @click=\"subPaper()\">提交试卷</el-button>\r\n    </div>\r\n    <div class=\"question\" v-for=\"(item, index) in paper.detail[0]\" :key=\"index\">\r\n      <div class=\"head\">\r\n        <span>{{ item.question.name }}</span>&nbsp;\r\n        <span>{{ `(分数:${ item.score })` }}</span>\r\n      </div>\r\n      <div class=\"content\">{{ item.question.content }}</div>\r\n      <div class=\"answer\">\r\n        <el-radio-group v-if=\"item.question.type === 0\" v-model=\"paper.answers[index]\">\r\n          <el-radio label=\"A\">A</el-radio>\r\n          <el-radio label=\"B\">B</el-radio>\r\n          <el-radio label=\"C\">C</el-radio>\r\n          <el-radio label=\"D\">D</el-radio>\r\n        </el-radio-group>\r\n        <el-input v-else :rows=\"3\" type=\"textarea\" v-model=\"paper.answers[index]\" />\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n<script setup>\r\nimport { onMounted, reactive } from 'vue'\r\nimport axios from 'axios'\r\nimport { ElMessage } from 'element-plus'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst id = route.params.id\r\nconst paperTitle = route.params.title\r\nconst paper = reactive({\r\n  studentId: localStorage.getItem('studentid'),\r\n  detail: [],\r\n  answers: [],\r\n  answerContent: ''\r\n})\r\nonMounted(() => {\r\n  getPaperDetail(id)\r\n  console.log(paper)\r\n})\r\nconst getPaperDetail = (id) => {\r\n  axios.get(`http://localhost/testPaper?id=${id}`\r\n  ).then(res => {\r\n    paper.detail.push(res.data.data)\r\n  })\r\n}\r\nconst subPaper = () => {\r\n  console.log(paper.answers)\r\n  paper.answers.forEach(element => {\r\n    if (element === 'A' || element === 'B' || element === 'C' || element === 'D') {\r\n      paper.answerContent += element + '@#'\r\n    } else {\r\n      paper.answerContent += '@' + element\r\n    }\r\n  })\r\n  console.log(paper.answerContent)\r\n  axios.post('http://localhost/answerPaper', {\r\n    studentId: paper.studentId,\r\n    testPaperId: id,\r\n    content: paper.answerContent\r\n  }).then(res => {\r\n    console.log(res)\r\n    ElMessage.success('提交成功')\r\n    router.push({\r\n      path: '/student/answers'\r\n    })\r\n  })\r\n}\r\n</script>\r\n<style lang='less' scoped>\r\n.box-card {\r\n  margin: 0 auto;\r\n  width: 80%;\r\n  // height: 700px;\r\n  .card-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .paperTitle {\r\n      font-size: 25px;\r\n      margin-left: 20px;\r\n    }\r\n  }\r\n  .question {\r\n    border-top: 1px solid rgb(218, 207, 207);\r\n    width: 90%;\r\n    margin-left: 5%;\r\n    margin-top: 10px;\r\n    padding: 20px;\r\n    .content {\r\n      margin: 5px 0;\r\n    }\r\n    .answer {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      margin-left: 10px;\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./exam.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./exam.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./exam.vue?vue&type=style&index=0&id=ae1559f6&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\HTML\\\\examination_system\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ae1559f6\"]])\n\nexport default __exports__"],"sourceRoot":""}