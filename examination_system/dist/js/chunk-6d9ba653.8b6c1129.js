(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d9ba653"],{"4d6b":function(e,t,a){"use strict";a("e441")},"59ec":function(e,t,a){"use strict";a("8f59")},"8f59":function(e,t,a){},e441:function(e,t,a){},fe4f:function(e,t,a){"use strict";a.r(t);var l=a("7a23"),o=a("bc3a"),c=a.n(o),s=a("3ef4");const d=Object(l["createTextVNode"])("删除"),n=Object(l["createTextVNode"])("添加用户"),r={class:"dialog-footer"},u=Object(l["createTextVNode"])("取消"),b=Object(l["createTextVNode"])("确定");var i={name:"UserTabel",props:{identity:{type:String,default:"0"}},setup(e){const t=e,a=Object(l["ref"])(!1),o="80px",i=Object(l["ref"])(1),p=Object(l["ref"])(10),j=Object(l["reactive"])({list:[],identity:t.identity,user:{name:"",sex:"",username:"",password:""}});Object(l["onMounted"])(()=>{O(j.identity),console.log(j)});const O=e=>{0===e?m():1===e&&h()},m=()=>{c.a.get("http://localhost/teacher/page?page=1&pageSize=100").then(e=>{j.list=e.data.data.records})},h=()=>{c.a.get("http://localhost/student/page?page=1&pageSize=100").then(e=>{j.list=e.data.data.records})},V=()=>{0===j.identity?f():1===j.identity&&v(),s["a"].success("添加成功")},f=()=>{c.a.post("http://localhost/teacher/save",{name:j.user.name,sex:j.user.sex,username:j.user.username,password:j.user.password}).then(e=>{console.log(e),j.list.push(e.data.data),a.value=!1})},v=()=>{c.a.post("http://localhost/student/save",{name:j.user.name,sex:j.user.sex,username:j.user.username,password:j.user.password}).then(e=>{console.log(e),j.list.push(e.data.data),a.value=!1})},w=(e,t)=>{0===j.identity?C(e,t):1===j.identity&&x(e,t),console.log(e,t),s["a"].success("删除成功")},C=(e,t)=>{c.a.delete("http://localhost/teacher?ids="+e).then(e=>{console.log(e),j.list.splice((i.value-1)*p.value+t,1)})},x=(e,t)=>{c.a.delete("http://localhost/student?ids="+e).then(e=>{console.log(e),j.list.splice((i.value-1)*p.value+t,1)})};return(t,c)=>{const s=Object(l["resolveComponent"])("el-table-column"),O=Object(l["resolveComponent"])("el-button"),m=Object(l["resolveComponent"])("el-table"),h=Object(l["resolveComponent"])("el-pagination"),f=Object(l["resolveComponent"])("el-input"),v=Object(l["resolveComponent"])("el-form-item"),C=Object(l["resolveComponent"])("el-option"),x=Object(l["resolveComponent"])("el-select"),N=Object(l["resolveComponent"])("el-form"),g=Object(l["resolveComponent"])("el-dialog");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(m,{data:j.list.slice((i.value-1)*p.value,i.value*p.value),stripe:"",style:{width:"100%"}},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(s,{prop:"name",label:"姓名",width:"180"}),Object(l["createVNode"])(s,{prop:"username",label:"用户名",width:"180"}),Object(l["createVNode"])(s,{prop:"password",label:"密码"}),Object(l["createVNode"])(s,{label:"操作"},{default:Object(l["withCtx"])(e=>[Object(l["createVNode"])(O,{size:"small",type:"danger",onClick:t=>w(e.row.id,e.$index)},{default:Object(l["withCtx"])(()=>[d]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Object(l["createVNode"])(h,{currentPage:i.value,"onUpdate:currentPage":c[0]||(c[0]=e=>i.value=e),"page-size":p.value,"onUpdate:page-size":c[1]||(c[1]=e=>p.value=e),layout:"prev, pager, next",total:j.list.length},null,8,["currentPage","page-size","total"]),Object(l["createVNode"])(O,{class:"mt-4",style:{width:"100%"},onClick:c[2]||(c[2]=e=>a.value=!0)},{default:Object(l["withCtx"])(()=>[n]),_:1}),Object(l["createVNode"])(g,{modelValue:a.value,"onUpdate:modelValue":c[9]||(c[9]=e=>a.value=e),title:""+(0===e.identity?"添加教师":"添加学生"),width:"30%"},{footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("span",r,[Object(l["createVNode"])(O,{onClick:c[7]||(c[7]=e=>a.value=!1)},{default:Object(l["withCtx"])(()=>[u]),_:1}),Object(l["createVNode"])(O,{type:"primary",onClick:c[8]||(c[8]=e=>V())},{default:Object(l["withCtx"])(()=>[b]),_:1})])]),default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(N,{model:j.user},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,{label:"姓名","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(f,{modelValue:j.user.name,"onUpdate:modelValue":c[3]||(c[3]=e=>j.user.name=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(v,{label:"性别","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(x,{modelValue:j.user.sex,"onUpdate:modelValue":c[4]||(c[4]=e=>j.user.sex=e)},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(C,{label:"男",value:"0"}),Object(l["createVNode"])(C,{label:"女",value:"1"})]),_:1},8,["modelValue"])]),_:1}),Object(l["createVNode"])(v,{label:"用户名","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(f,{modelValue:j.user.username,"onUpdate:modelValue":c[5]||(c[5]=e=>j.user.username=e),autocomplete:"off"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(v,{label:"密码","label-width":o},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(f,{modelValue:j.user.password,"onUpdate:modelValue":c[6]||(c[6]=e=>j.user.password=e),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}},p=(a("59ec"),a("6b0d")),j=a.n(p);const O=j()(i,[["__scopeId","data-v-4abf09c1"]]);var m=O,h={name:"UserForm",setup(e){return(e,t)=>{const a=Object(l["resolveComponent"])("el-tab-pane"),o=Object(l["resolveComponent"])("el-tabs");return Object(l["openBlock"])(),Object(l["createBlock"])(o,{type:"border-card",class:"userTabs"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(a,{label:"教师管理"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(m,{identity:0})]),_:1}),Object(l["createVNode"])(a,{label:"学生管理"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(m,{identity:1})]),_:1})]),_:1})}}};a("4d6b");const V=j()(h,[["__scopeId","data-v-0845d694"]]);t["default"]=V}}]);
//# sourceMappingURL=chunk-6d9ba653.8b6c1129.js.map